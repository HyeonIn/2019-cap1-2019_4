### 팀 미팅 회의록

|     차수     | 25차                                                         |
| :----------: | :----------------------------------------------------------- |
|   **일시**   | 2019-03-22 15:00 ~ 18:00     |
|   **장소**   | 7호관 424호실                               |
|  **참석자**  | 민지수, 윤지영, 유지원, 이성재, 황수진                       |
|  **불참자**  |                                                              |
|   **안건**   | 얼굴 인식 시스템과 광고 추천 알고리즘의 진행 과정 공유 및 회의                |
| **회의내용** | 1. Jetson-Inference 코드의 분석 <br/> - Face Detection 이 수행되는 Jetson-Inference 의 코드를 분석한 결과는 다음과 같음 <br/> - 크게 확인할 수 있는 코드는 detectNet.cpp 와 detectnet-camera.cpp 이며, detectNet 에서 딥러닝 모델을 이용하여 물체를 Detect 하고, Bounding Box 를 Draw 하는 함수가 작성되어 있음. detectnet-camera 에서는 해당 함수를 기반으로 Jetson 의 기본 카메라와 연동하여 실시간 Detection 을 수행함. <br/> - 이미지에 bounding box 가 그려지는 과정에서 중요한 것은 이미지 데이터와 bounding box 의 좌표임. 이미지 데이터는 float * 형태 또는 float4 * 형태로 존재하며, 이는 빠른 처리를 위해 데이터 주소만 전달하는 것으로 보임. bounding box 는 좌표 형태로 여러개의 box 가 클래스에 따라 구분되어 2차원 vector 자료구조에 저장되어 있음. <br/> <br/> 2. cudaOverlay 의 분석<br/> -  실제 bounding box 를 그리는 부분에서 이미지를 crop 할 수 있을것으로 생각하고 해당 코드를 분석.  <br/> - cuda 관련 utility 코드에 cudaOverlay 이름의 bounding box 를 그리는 함수가 존재하였음. <br/> - 해당 함수에 특정 코드를 작성하여 수정이 가능하다는 것은 확인하였지만, 실제 float * 형태의 이미지를 local 에 저장하거나 네트워크 전송하는 방법은 확인하지 못함.<br/><br/>3. loadImage 의 발견<br/> - float * 형태의 이미지 저장에 대해 찾아보던 중, loadImage 패키지에 해당 데이터를 저장하기 위한 코드가 존재한다는 것을 발견함<br/>- 이는 console 기반의 테스트 코드에서 이미지에 bounding box 등을 표시하고, 다시 local 에 저장하기 위해 사용된다는 것을 확인함<br/> - 해당 코드에서 saveImageRGBA 함수를 이용하면 된다는 것을 알고 테스트 <br/> -  crop 하지 않은 형태의 output 이미지를 저장하려 했으나, saveImageRGBA 는 float4 * 데이터를 입력으로 받고, 우리가 처리하는 이미지 데이터는 float * 데이터로 자료형이 맞지 않아 실패함. <br/> - 이를 해결하기 위해 float4 * 로 데이터를 변형하거나, float4 * 인 상태에 저장하는 테스트를 진행하기로 함. <br/><br/> 4. inotify 를 이용한 이벤트 분석 <br/> - aws-sdk 를 코드에 작성하지 않고, 직접 local 에서 처리하기로 하였으므로 local 폴더에 이미지가 들어오면,<br/> - 이를 인식하여 해당 이미지를 자동으로 aws s3 에 저장하는 코드가 필요함.  <br/>- 관련된 코드로 inotify 라는 패키지가 존재하며, C, python 등에서도 구현이 가능함.<br/>- 해당 코드를 분석하여 특정 directory 에 파일이 생성되면 자동으로 s3 에 업로드 되는 시스템을 구현하는 업무를 분담하였음<br/><br/>5. 이번주 활동 공유 : feature 생성, evaluation 파일 생성 <br/> - 유저별로 대분류, 소분류 별 재구매율을 계산 -> (reordering 수 / 전체 구매 수)를 통해서 확률값 계산 <br/> - 재구매율이 많은 요일 별로 순위 매기기 -> (전체 구매수 / 재구매 수) 확률 값 <br/> - 장바구니에 1번째로 많이 담긴 제품의 순위 구하기 <br/> - evaluation값을 계산하는 함수 구현 -> 제출 형식에 맞추어 수정이 필요함(현재 코드에는 유저와 제품이 주어졌을 때  reordered되었는지, 안되었는지를 예측하는 것이지만 / 한번 구매할 때 어떤 제품들을 구매했는지를 예측하는 것임!!!)<br/><br/>6. 세부적인 내용 <br/> - 잘못 알고 있던 제출 형식에 대해서 내용을 공유함 <br/> - RDS는 오로지 정해진 데이터만 테이블에 저장하는가? <br/> -> merge하는데 시간이 상당히 소요될 가능성이 있으니, 미리 database에 넣는 것으로 결정 (하지만 현재는 개별 feature에 대한 코드만 작성중 이므로 시간이 많이 소요되지 않으니 나중에 넣기)<br/> - 추천 결과를 업데이트 하는 방법은 어떤식으로 하는지 <br/> -> 다음주 회의까지 알아오기(지수)  <br/> - 우리 얼굴이나 인터넷에서 구한 사진들로 kaggle 구매 기록에 있는 많은 ID랑 매칭하는 것은 언제? 어떻게? <br/> -> 매칭되서 나온 user_id값만 우리는 가져오므로, 이 값을 받아 광고를 내보내는 lambda 코드를 작성함 (현재 추천 알고리즘이 완성되지 않아 DB에 추천 결과가 없으므로 임시로 값을 넣어 테스트 할 예정) <br/> - XGBOOST와 collaborative filtering 어케 가중치 줄 건지 <br/>-> 가중치 비율은 최종 evaluation해보고 준다 <br/> - feature생성을 빠르게 끝내고 xgboost의 실험을 어느정도 한 후, 지원이가 지영이의 작업을 도와주는 방향으로 진행하자<br/><br/>7. 주제별 회의 날짜 <br/> - 얼굴 인식 : 3월 26일 화요일 11:30~ <br/> 추천 알고리즘 : 3월 26일 13:00~<br/><br/> 8. 회의록 작성 <br/> 민지수 -> 윤지영 -> 유지원 -> 이성재 -> 황수진 <br/> 회의 사진과 회의 내용 한번에 커밋하기 |


**회의 사진**<br/><img src="https://github.com/kookmin-sw/2019-cap1-2019_4/blob/master/doc/%ED%9A%8C%EC%9D%98%EB%A1%9D/pictures/2019_03_22.JPG" alt="회의 사진" width = "30%" height="30%"><br/>